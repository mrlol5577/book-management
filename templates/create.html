{% extends 'base.html' %}

{% block title %}
Ð”Ð¾Ð´Ð°Ñ‚Ð¸ ÐºÐ½Ð¸Ð³Ñƒ
{% endblock %}

{% block body %}

<div class="container" style="max-width: 900px; margin: 0 auto; padding: 20px;">

<!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
<div style="
        background: white;
        padding: 25px;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        margin-bottom: 30px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 10px;
">
        <h2 style="margin: 0; color: #333;">ðŸ“– Ð”Ð¾Ð´Ð°Ñ‚Ð¸ ÐºÐ½Ð¸Ð³Ñƒ</h2>
        <h4 id="buyInput" style="margin: 0; color: #666;">ðŸ‘¤ Ð”Ð°Ð½Ñ– Ñ‡Ð¸Ñ‚Ð°Ñ‡Ð°</h4>
</div>


<!-- Ð¤Ð¾Ñ€Ð¼Ð° -->
<form method="post" style="
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        display: flex;
        flex-direction: column;
        gap: 20px;
">

        <!-- ÐÐ°Ð·Ð²Ð° + ÐŸÐ¾ÐºÑƒÐ¿ÐµÑ†ÑŒ -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px,1fr)); gap: 15px;">

        <input type="text" name="name_book"
                placeholder="ðŸ“š ÐÐ°Ð·Ð²Ð° ÐºÐ½Ð¸Ð³Ð¸"
                required
                style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em;">

        <input type="text" name="buyer" id="buyerInput"
                placeholder="ðŸ‘¤ Ð†Ð¼'Ñ Ñ‚Ð° Ñ„Ð°Ð¼Ñ–Ð»Ñ–Ñ"
                style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em;">
        </div>


        <!-- ÐÐ²Ñ‚Ð¾Ñ€ + Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px,1fr)); gap: 15px;">

        <input type="text" name="author"
                placeholder="âœï¸ ÐÐ²Ñ‚Ð¾Ñ€"
                required
                style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em;">

        <input type="text" name="phone" id="phoneInput"
                placeholder="ðŸ“ž Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½"
                style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em;">
        </div>


        <!-- EAN -->
        <input type="text" name="ean"
        placeholder="ðŸ”¢ EAN ÐºÐ¾Ð´"
        style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em;">


        <!-- Ð”Ð°Ñ‚Ð° -->
        <input type="date" name="date" id="dateInput"
        required
        style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em;">


        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° + Ð¡Ñ‚Ð°Ñ‚ÑƒÑ -->
        <div style="display: flex; flex-wrap: wrap; gap: 15px; align-items: center;">

                <button type="submit"
                class="btn btn-success"
                style="padding: 10px 25px; border-radius: 8px; font-size: 1em;">
                âž• Ð”Ð¾Ð´Ð°Ñ‚Ð¸
                </button>

                <select name="stat" id="buyerSelect"
                style="padding: 10px; border-radius: 8px; border: 2px solid #e0e0e0; font-size: 1em;">

                <option value="Ð½ÐµÐ¼Ð°">âœ… Ð§Ð¸Ñ‚Ð°Ñ‡Ð° Ð½ÐµÐ¼Ð°</option>
                <option value="Ñ”">ðŸ“• Ð§Ð¸Ñ‚Ð°Ñ‡ Ñ”</option>

                </select>

        </div>

        </form>

</div>


<!-- JS -->
<script>

const buyerSelect = document.getElementById('buyerSelect');
const phoneInput = document.getElementById('phoneInput');
const buyerInput = document.getElementById('buyerInput');
const buyInput = document.getElementById('buyInput');

const dateInput = document.getElementById('dateInput');
const today = new Date().toISOString().split('T')[0];
dateInput.value = today;


function updateFields() {

        if (buyerSelect.value === 'Ð½ÐµÐ¼Ð°') {

        phoneInput.style.display = 'none';
        buyerInput.style.display = 'none';
        buyInput.style.display = 'none';

        } else {

        phoneInput.style.display = 'block';
        buyerInput.style.display = 'block';
        buyInput.style.display = 'block';

        }
}


updateFields();
buyerSelect.addEventListener('change', updateFields);

</script>


<style>

input:focus, select:focus {
        outline: none;
        border-color: #667eea;
}

::placeholder {
        color: #999;
}

</style>

{% endblock %}
